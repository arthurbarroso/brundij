{"version":3,"sources":["brundij/views/questions/success.cljs"],"mappings":";AAQA,+CAAA,/CAAMA;AAAN,AACE,IAAME,YAAU,sDAAA,mFAAA,zIAACC;IACXC,MAAI,AAAQC;IACZC,YAAU,2BAAA,3BAACC,uBAAQH,eAAe,CAAA,oDAAA,AAAAH,gBAAcC;AAFtD,AAAA,+HAAA,mFAAA,8RAAA,gCAAA,mFAAA,6NAAA,qMAAA,mFAAA,mDAAA,2CAAA,6DAAA,zpCAGGM,yKACK,qDAAA,2CAAA,gEAAA,OAAA,yDAAA,hOAACC,8YAEF,qDAAA,2CAAA,gEAAA,hKAACA;AANR,OAUyBC,PAEA,OAAA,8BAAYJ;WAZrC,kHAAA,2CAAA,gEAAA,8DAAA,KAAA,sEAAA,2CAAA,uDAAA,sCAAA,mFAAA,6NAAA,8BAAA,mFAAA,6RAAA,AAAAL,mCAAA,5nCAaKU,gIAAcL,4ZAEZ,qDAAA,2CAAA,gEAAA,hKAACG,8UAEA,qDAAA,2CAAA,mEAAA,MAAA,yDAAA,lOAACA,+PACHP","names":["brundij.views.questions.success/success-view","cljs.core/deref","health-id","re_frame.core.subscribe","uri","js/window.location","final-url","clojure.string/replace","brundij.components.template/template","stylefy.core.use_style","js/navigator","brundij.components.input/input"],"sourcesContent":["(ns brundij.views.questions.success\n  (:require [brundij.components.input :refer [input]]\n            [brundij.components.template :refer [template]]\n            [brundij.views.questions.subs :as subs]\n            [clojure.string :refer [replace]]\n            [re-frame.core :as re-frame]\n            [stylefy.core :as stylefy :refer [use-style]]))\n\n(defn success-view []\n  (let [health-id (re-frame/subscribe [::subs/health-uuid])\n        uri (.-href js/window.location)\n        final-url (replace uri \"/success\" (str \"/?id=\" @health-id))]\n    [template\n     [:h3 (use-style {:font-size \"3rem\" :margin 0})\n      \"Success! \ud83c\udf4f\"]\n     [:p (use-style {:max-width \"70%\"})\n      \"You should now be able to share this health check survey with your teammates \n      by pointing them to the link below. Simply click the link below to copy it \n      to your clipboard.\"]\n     [:div {:on-click #(-> js/navigator\n                           .-clipboard\n                           (.writeText final-url))}\n      [input {:value final-url :disabled true\n              :extra-styles {:width \"75%\"}}]]\n     [:p (use-style {:max-width \"70%\"})\n      \"Your health check's ID is: \"\n      [:p (use-style {:font-weight 700 :margin 0})\n       @health-id]\n      \"Please save it as you'll need it to download results\"]]))\n"]}