{"version":3,"sources":["brundij/shared/render.cljs"],"mappings":";;;AAOA,qDAAA,rDAAMA,kHAA8BC,KAAKC;AAAzC,AACE,mCAAA,5BAACC,uBAAeF,wBAAwBC;;AAE1C,uDAAA,vDAAME,sHAAgCH,KAAKI;AAA3C,AACE,mCAAA,5BAACF,uBAAeF,+BAA+BI;;AAEjD,sDAAA,tDAAMC,oHAA+BL,KAAKM;AAA1C,AACE,mCAAA,5BAACJ,uBAAeF,2BAA2BM;;AAE7C,0CAAA,1CAAMC,4FAAmBP,KAAKQ;AAA9B,AACE,mCAAA,5BAACN,uBAAeF,kBAAkBQ;;AAEpC,gDAAA,hDAAMC,wGAAyBT,KAAKU;AAApC,AACE,mCAAA,5BAACR,uBAAeF,wBAAwBU;;AAE1C,sCAAA,tCAAMC,oFAAeC,kBAAkBN,kBAAkBF,mBAAmBI,MAAME;AAAlF,sMA2BG,mDAAA,nDAACX,k1BAA6Ba,t4BAC9B,AAACP,y5BAA8BC,98BAC/B,AAACH,i+BAA+BC,zgCAChC,AAACG,6hCAAkBC,llCACnB,OAACC,klCAAwBC;;AAE5B,mCAAA,nCAAMG,8EAAYD,kBACAN,kBACAQ,UACAV,mBACAI,MACAE;AALlB,AAME,OAACK,2BACA,CAAA,iEAAA,XAAeD,iEACXF,pCACA,AAACD,sDAAcL,kBAAkBF,mBAAmBI,MAAME;;AAEjE,yCAAA,zCAAeM,0FAAkBC;AAAjC,AACE,IAAMC,KAAG,wBAAA,xBAAiBC;AAA1B,AACE,OAACC,4CAAkB,sDAAA,tDAACC,yIAAcJ,mBACfC;;;AAEvB,gCAAA,hCAAeI,wEAASL,UAAUM;AAAlC,AACE,4BAAA,5BAACC,+GAAwBD;;AACzB,IAAML,KAAG,wBAAA,xBAAiBC;AAA1B,AACE,OAACC,4CAAkB,sDAAA,tDAACC,yIAAcJ,mBACfC","names":["brundij.shared.render/add-component-string-to-html","html","component-string","clojure.string/replace","brundij.shared.render/add-scripts-to-include-to-html","scripts-to-include","brundij.shared.render/add-hydrate-script-fn-to-html","hydrate-script-fn","brundij.shared.render/add-title-to-html","title","brundij.shared.render/add-stylesheets-to-html","stylesheets","brundij.shared.render/html-template","pre-rendered-html","brundij.shared.render/pre-render","view-name","js/shadow$empty.writeFileSync","brundij.shared.render/hydrate-no-event","component","cb","js/document","js/module$node_modules$react_dom$index.hydrate","reagent.core.as_element","brundij.shared.render/hydrate","event","re-frame.core/dispatch-sync"],"sourcesContent":["(ns brundij.shared.render\n  (:require [clojure.string :as string]\n            [re-frame.core :as re-frame]\n            [reagent.core :as r]\n            [\"react-dom\" :as react-dom]\n            [\"fs\" :as fs]))\n\n(defn add-component-string-to-html [html component-string]\n  (string/replace html \"${{html-string}}\" component-string))\n\n(defn add-scripts-to-include-to-html [html scripts-to-include]\n  (string/replace html \"${{scripts-to-include}}\" scripts-to-include))\n\n(defn add-hydrate-script-fn-to-html [html hydrate-script-fn]\n  (string/replace html \"${{hydrate-script}}\" hydrate-script-fn))\n\n(defn add-title-to-html [html title]\n  (string/replace html \"${{title}}\" title))\n\n(defn add-stylesheets-to-html [html stylesheets]\n  (string/replace html \"${{stylesheets}}\" stylesheets))\n\n(defn html-template [pre-rendered-html hydrate-script-fn scripts-to-include title stylesheets]\n  (->\n   \"<html>\n      <head>\n        <meta charset=\\\"utf-8\\\">\n        <style>\n          body {\n            margin: 0;\n            outline: 0;\n            padding: 0;\n            -webkit-font-smoothing: antialiased;\n            -moz-osx-font-smoothing: grayscale;\n            font-family: 'Poppins', sans-serif;\n          }\n        </style>\n        <link rel=\\\"stylesheet\\\" href=\\\"/assets/css/brundij/shared/shared.css\\\">\n        <link rel=\\\"shortcut icon\\\" href=\\\"/assets/favicon.ico\\\"/>\n        <link rel=\\\"icon\\\" href=\\\"/assets/favicon.ico\\\" />\n        ${{stylesheets}}\n        ${{scripts-to-include}}\n        <title>${{title}}</title>\n      </head>\n      <body>\n        <div id=\\\"root\\\">${{html-string}}</div>\n      </body>\n      <script>${{hydrate-script}}</script>\n    </html>\"\n   (add-component-string-to-html pre-rendered-html)\n   (add-hydrate-script-fn-to-html hydrate-script-fn)\n   (add-scripts-to-include-to-html scripts-to-include)\n   (add-title-to-html title)\n   (add-stylesheets-to-html stylesheets)))\n\n(defn pre-render [pre-rendered-html\n                  hydrate-script-fn\n                  view-name\n                  scripts-to-include\n                  title\n                  stylesheets]\n  (fs/writeFileSync\n   (str \"public/\" view-name \".html\")\n   (-> pre-rendered-html\n       (html-template hydrate-script-fn scripts-to-include title stylesheets))))\n\n(defn ^:export hydrate-no-event [component]\n  (let [cb (.getElementById js/document \"root\")]\n    (react-dom/hydrate (r/as-element [component])\n                       cb)))\n\n(defn ^:export hydrate [component event]\n  (re-frame/dispatch-sync [event])\n  (let [cb (.getElementById js/document \"root\")]\n    (react-dom/hydrate (r/as-element [component])\n                       cb)))\n"]}