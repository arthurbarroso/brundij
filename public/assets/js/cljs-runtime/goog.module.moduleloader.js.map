{
"version":3,
"file":"goog.module.moduleloader.js",
"lineCount":287,
"mappings":"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",
"sources":["goog/module/moduleloader.js"],
"sourcesContent":["/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview The module loader for loading modules across the network.\n *\n * Browsers do not guarantee that scripts appended to the document\n * are executed in the order they are added. For production mode, we use\n * XHRs to load scripts, because they do not have this problem and they\n * have superior mechanisms for handling failure. However, XHR-evaled\n * scripts are harder to debug.\n *\n * In debugging mode, we use normal script tags. In order to make this work,\n * we load the scripts in serial: we do not execute script B to the document\n * until we are certain that script A is finished loading.\n */\n\ngoog.provide('goog.module.ModuleLoader');\n\ngoog.require('goog.Timer');\ngoog.require('goog.array');\ngoog.require('goog.asserts');\ngoog.require('goog.dom');\ngoog.require('goog.dom.TagName');\ngoog.require('goog.dom.safe');\ngoog.require('goog.events');\ngoog.require('goog.events.Event');\ngoog.require('goog.events.EventHandler');\ngoog.require('goog.events.EventId');\ngoog.require('goog.events.EventTarget');\ngoog.require('goog.functions');\ngoog.require('goog.html.TrustedResourceUrl');\ngoog.require('goog.labs.userAgent.browser');\ngoog.require('goog.log');\ngoog.require('goog.module.AbstractModuleLoader');\ngoog.require('goog.net.BulkLoader');\ngoog.require('goog.net.EventType');\ngoog.require('goog.net.jsloader');\ngoog.require('goog.userAgent');\ngoog.require('goog.userAgent.product');\ngoog.requireType('goog.module.ModuleInfo');\n\n\n\n/**\n * A class that loads JavaScript modules.\n * @constructor\n * @extends {goog.events.EventTarget}\n * @implements {goog.module.AbstractModuleLoader}\n */\ngoog.module.ModuleLoader = function() {\n  'use strict';\n  goog.module.ModuleLoader.base(this, 'constructor');\n\n  /**\n   * Event handler for managing handling events.\n   * @type {goog.events.EventHandler<!goog.module.ModuleLoader>}\n   * @private\n   */\n  this.eventHandler_ = new goog.events.EventHandler(this);\n  this.registerDisposable(this.eventHandler_);\n\n  /**\n   * A map from module IDs to goog.module.ModuleLoader.LoadStatus.\n   * @type {!Object<Array<string>, goog.module.ModuleLoader.LoadStatus>}\n   * @private\n   */\n  this.loadingModulesStatus_ = {};\n};\ngoog.inherits(goog.module.ModuleLoader, goog.events.EventTarget);\n\n\n/**\n * A logger.\n * @type {goog.log.Logger}\n * @protected\n */\ngoog.module.ModuleLoader.prototype.logger =\n    goog.log.getLogger('goog.module.ModuleLoader');\n\n\n/**\n * Whether debug mode is enabled.\n * @type {boolean}\n * @private\n */\ngoog.module.ModuleLoader.prototype.debugMode_ = false;\n\n\n/**\n * Whether source url injection is enabled.\n * @type {boolean}\n * @private\n */\ngoog.module.ModuleLoader.prototype.sourceUrlInjection_ = false;\n\n\n/**\n * Whether to load modules with non-async script tags.\n * @type {boolean}\n * @private\n */\ngoog.module.ModuleLoader.prototype.useScriptTags_ = false;\n\n\n/**\n * @return {boolean} Whether sourceURL affects stack traces.\n */\ngoog.module.ModuleLoader.supportsSourceUrlStackTraces = function() {\n  'use strict';\n  return goog.userAgent.product.CHROME ||\n      (goog.labs.userAgent.browser.isFirefox() &&\n       goog.labs.userAgent.browser.isVersionOrHigher('36'));\n};\n\n\n/**\n * @return {boolean} Whether sourceURL affects the debugger.\n */\ngoog.module.ModuleLoader.supportsSourceUrlDebugger = function() {\n  'use strict';\n  return goog.userAgent.product.CHROME || goog.userAgent.GECKO;\n};\n\n\n/**\n * URLs have a browser-dependent max character limit. IE9-IE11 are the lowest\n * common denominators for what we support - with a limit of 4043:\n * https://stackoverflow.com/questions/417142/what-is-the-maximum-length-of-a-url-in-different-browsers#31250734\n * If the URL constructed by the loader exceeds this limit, we will try to split\n * it into multiple requests.\n * TODO(user): Make this configurable since not all users care about IE.\n * @const {number}\n * @private\n */\ngoog.module.ModuleLoader.URL_MAX_LENGTH_ = 4043;\n\n\n/**\n * Error code for javascript syntax and network errors.\n * TODO(user): Detect more accurate error info.\n * @const {number}\n * @private\n */\ngoog.module.ModuleLoader.SYNTAX_OR_NETWORK_ERROR_CODE_ = -1;\n\n\n\n/**\n * @param {!goog.html.TrustedResourceUrl} url The url to be loaded.\n * @return {!HTMLScriptElement}\n * @private\n */\ngoog.module.ModuleLoader.createScriptElement_ = function(url) {\n  'use strict';\n  const script = goog.dom.createElement(goog.dom.TagName.SCRIPT);\n  goog.dom.safe.setScriptSrc(script, url);\n\n  // Set scriptElt.async = false to guarantee\n  // that scripts are loaded in parallel but executed in the insertion order.\n  // For more details, check\n  // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script\n  script.async = false;\n  return script;\n};\n\n\n/**\n * @param {!goog.html.TrustedResourceUrl} url The url to be pre-loaded.\n * @return {!HTMLLinkElement}\n * @private\n */\ngoog.module.ModuleLoader.createPreloadScriptElement_ = function(url) {\n  'use strict';\n  const link = goog.dom.createElement(goog.dom.TagName.LINK);\n  goog.dom.safe.setLinkHrefAndRel(link, url, 'preload');\n  link.as = 'script';\n\n  // If CSP nonces are used, propagate them to dynamically created scripts.\n  // This is necessary to allow nonce-based CSPs without 'strict-dynamic'.\n  var nonce = goog.getScriptNonce();\n  if (nonce) {\n    link.setAttribute('nonce', nonce);\n  }\n\n  return link;\n};\n\n\n/**\n * Gets the debug mode for the loader.\n * @return {boolean} Whether the debug mode is enabled.\n */\ngoog.module.ModuleLoader.prototype.getDebugMode = function() {\n  'use strict';\n  return this.debugMode_;\n};\n\n\n/**\n * @param {boolean} useScriptTags Whether or not to use script tags\n *     (with async=false) for loading.\n */\ngoog.module.ModuleLoader.prototype.setUseScriptTags = function(useScriptTags) {\n  'use strict';\n  this.useScriptTags_ = useScriptTags;\n};\n\n\n/**\n * Gets whether we're using non-async script tags for loading.\n * @return {boolean} Whether or not we're using non-async script tags for\n *     loading.\n */\ngoog.module.ModuleLoader.prototype.getUseScriptTags = function() {\n  'use strict';\n  return this.useScriptTags_;\n};\n\n\n/**\n * Sets whether we're using non-async script tags for loading.\n * @param {boolean} debugMode Whether the debug mode is enabled.\n */\ngoog.module.ModuleLoader.prototype.setDebugMode = function(debugMode) {\n  'use strict';\n  this.debugMode_ = debugMode;\n};\n\n\n/**\n * When enabled, we will add a sourceURL comment to the end of all scripts\n * to mark their origin.\n *\n * On WebKit, stack traces will reflect the sourceURL comment, so this is\n * useful for debugging webkit stack traces in production.\n *\n * Notice that in debug mode, we will use source url injection + eval rather\n * then appending script nodes to the DOM, because the scripts will load far\n * faster.  (Appending script nodes is very slow, because we can't parallelize\n * the downloading and evaling of the script).\n *\n * The cost of appending sourceURL information is negligible when compared to\n * the cost of evaling the script. Almost all clients will want this on.\n *\n * TODO(nicksantos): Turn this on by default. We may want to turn this off\n * for clients that inject their own sourceURL.\n *\n * @param {boolean} enabled Whether source url injection is enabled.\n */\ngoog.module.ModuleLoader.prototype.setSourceUrlInjection = function(enabled) {\n  'use strict';\n  this.sourceUrlInjection_ = enabled;\n};\n\n\n/**\n * @return {boolean} Whether we're using source url injection.\n * @private\n */\ngoog.module.ModuleLoader.prototype.usingSourceUrlInjection_ = function() {\n  'use strict';\n  return this.sourceUrlInjection_ ||\n      (this.getDebugMode() &&\n       goog.module.ModuleLoader.supportsSourceUrlStackTraces());\n};\n\n\n/** @override */\ngoog.module.ModuleLoader.prototype.loadModules = function(\n    ids, moduleInfoMap, {forceReload, onError, onSuccess, onTimeout} = {}) {\n  var loadStatus = this.loadingModulesStatus_[ids] ||\n      goog.module.ModuleLoader.LoadStatus.createForIds_(ids, moduleInfoMap);\n  loadStatus.loadRequested = true;\n  if (loadStatus.successFn && onSuccess) {\n    // If there already exists a success function, chain it before the passed\n    // success functon.\n    loadStatus.successFn =\n        goog.functions.sequence(loadStatus.successFn, onSuccess);\n  } else {\n    loadStatus.successFn = onSuccess || loadStatus.successFn;\n  }\n  loadStatus.errorFn = onError || null;\n\n  if (!this.loadingModulesStatus_[ids]) {\n    // Modules were not prefetched.\n    this.loadingModulesStatus_[ids] = loadStatus;\n    this.downloadModules_(ids);\n    // TODO(user): Need to handle timeouts in the module loading code.\n  } else if (this.getUseScriptTags()) {\n    // We started prefetching but we used <link rel=\"preload\".../> tags, so we\n    // rely on the browser to reconcile the (existing) prefetch request and the\n    // script tag we're about to insert.\n    this.downloadModules_(ids);\n  } else if (loadStatus.responseTexts != null) {\n    // Modules prefetch is complete.\n    this.evaluateCode_(ids);\n  }\n  // Otherwise modules prefetch is in progress, and these modules will be\n  // executed after the prefetch is complete.\n};\n\n\n/**\n * Evaluate the JS code.\n * @param {Array<string>} moduleIds The module ids.\n * @private\n */\ngoog.module.ModuleLoader.prototype.evaluateCode_ = function(moduleIds) {\n  'use strict';\n  this.dispatchEvent(\n      new goog.module.ModuleLoader.RequestSuccessEvent(moduleIds));\n\n  goog.log.info(this.logger, 'evaluateCode ids:' + moduleIds);\n  var loadStatus = this.loadingModulesStatus_[moduleIds];\n  var uris = loadStatus.requestUris;\n  var texts = loadStatus.responseTexts;\n  var error = null;\n  try {\n    if (this.usingSourceUrlInjection_()) {\n      for (var i = 0; i < uris.length; i++) {\n        var uri = uris[i];\n        goog.globalEval(texts[i] + ' //# sourceURL=' + uri);\n      }\n    } else {\n      goog.globalEval(texts.join('\\n'));\n    }\n  } catch (e) {\n    error = e;\n    // TODO(user): Consider throwing an exception here.\n    goog.log.warning(\n        this.logger, 'Loaded incomplete code for module(s): ' + moduleIds, e);\n  }\n\n  this.dispatchEvent(new goog.module.ModuleLoader.EvaluateCodeEvent(moduleIds));\n\n  if (error) {\n    this.handleErrorHelper_(\n        moduleIds, loadStatus.errorFn, null /* status */, error);\n  } else if (loadStatus.successFn) {\n    loadStatus.successFn();\n  }\n  delete this.loadingModulesStatus_[moduleIds];\n};\n\n\n/**\n * Handles a successful response to a request for prefetch or load one or more\n * modules.\n *\n * @param {goog.net.BulkLoader} bulkLoader The bulk loader.\n * @param {Array<string>} moduleIds The ids of the modules requested.\n * @private\n */\ngoog.module.ModuleLoader.prototype.handleSuccess_ = function(\n    bulkLoader, moduleIds) {\n  'use strict';\n  goog.log.info(this.logger, 'Code loaded for module(s): ' + moduleIds);\n\n  var loadStatus = this.loadingModulesStatus_[moduleIds];\n  loadStatus.responseTexts = bulkLoader.getResponseTexts();\n\n  if (loadStatus.loadRequested) {\n    this.evaluateCode_(moduleIds);\n  }\n\n  // NOTE: A bulk loader instance is used for loading a set of module ids.\n  // Once these modules have been loaded successfully or in error the bulk\n  // loader should be disposed as it is not needed anymore. A new bulk loader\n  // is instantiated for any new modules to be loaded. The dispose is called\n  // on a timer so that the bulkloader has a chance to release its\n  // objects.\n  goog.Timer.callOnce(bulkLoader.dispose, 5, bulkLoader);\n};\n\n\n/** @override */\ngoog.module.ModuleLoader.prototype.prefetchModule = function(id, moduleInfo) {\n  'use strict';\n  // Do not prefetch in debug mode\n  if (this.getDebugMode()) {\n    return;\n  }\n  goog.log.info(this.logger, `Prefetching module: ${id}`);\n  var loadStatus = this.loadingModulesStatus_[[id]];\n  if (loadStatus) {\n    return;\n  }\n  var moduleInfoMap = {};\n  moduleInfoMap[id] = moduleInfo;\n  loadStatus =\n      goog.module.ModuleLoader.LoadStatus.createForIds_([id], moduleInfoMap);\n  this.loadingModulesStatus_[[id]] = loadStatus;\n  if (this.getUseScriptTags()) {\n    const links = [];\n    const insertPos = document.head || document.documentElement;\n    for (var i = 0; i < loadStatus.trustedRequestUris.length; i++) {\n      const link = goog.module.ModuleLoader.createPreloadScriptElement_(\n          loadStatus.trustedRequestUris[i]);\n      links.push(link);\n      insertPos.insertBefore(link, insertPos.firstChild);\n    }\n    loadStatus.successFn = () => {\n      for (var i = 0; i < links.length; i++) {\n        const link = links[i];\n        goog.dom.removeNode(link);\n      }\n    };\n  } else {\n    this.downloadModules_([id]);\n  }\n};\n\n\n/**\n * Downloads a list of JavaScript modules.\n *\n * @param {?Array<string>} ids The module ids in dependency order.\n * @private\n */\ngoog.module.ModuleLoader.prototype.downloadModules_ = function(ids) {\n  'use strict';\n  const debugMode = this.getDebugMode();\n  const sourceUrlInjection = this.usingSourceUrlInjection_();\n  const useScriptTags = this.getUseScriptTags();\n  if ((debugMode + sourceUrlInjection + useScriptTags) > 1) {\n    const effectiveFlag = useScriptTags ?\n        'useScriptTags' :\n        (debugMode && !sourceUrlInjection) ? 'debug' : 'sourceUrlInjection';\n    goog.log.warning(\n        this.logger,\n        `More than one of debugMode (set to ${debugMode}), ` +\n            `useScriptTags (set to ${useScriptTags}), ` +\n            `and sourceUrlInjection (set to ${sourceUrlInjection}) ` +\n            `is enabled. Proceeding with download as if ` +\n            `${effectiveFlag} is set to true and the rest to false.`);\n  }\n  const loadStatus = goog.asserts.assert(this.loadingModulesStatus_[ids]);\n\n  if (useScriptTags) {\n    this.loadWithNonAsyncScriptTag_(loadStatus, ids);\n  } else if (debugMode && !sourceUrlInjection) {\n    // In debug mode use <script> tags rather than XHRs to load the files.\n    // This makes it possible to debug and inspect stack traces more easily.\n    // It's also possible to use it to load JavaScript files that are hosted on\n    // another domain.\n    // The scripts need to load serially, so this is much slower than parallel\n    // script loads with source url injection.\n    goog.net.jsloader.safeLoadMany(loadStatus.trustedRequestUris);\n  } else {\n    goog.log.info(\n        this.logger,\n        'downloadModules ids:' + ids + ' uris:' + loadStatus.requestUris);\n\n    var bulkLoader = new goog.net.BulkLoader(loadStatus.requestUris);\n\n    var eventHandler = this.eventHandler_;\n    eventHandler.listen(\n        bulkLoader, goog.net.EventType.SUCCESS,\n        goog.bind(this.handleSuccess_, this, bulkLoader, ids));\n    eventHandler.listen(\n        bulkLoader, goog.net.EventType.ERROR,\n        goog.bind(this.handleError_, this, bulkLoader, ids));\n    bulkLoader.load();\n  }\n};\n\n\n/**\n * Downloads a list of script URIS using <script async=false.../>, which\n * guarantees executuion order.\n * @param {!goog.module.ModuleLoader.LoadStatus} loadStatus The load status\n *     object for this module-load.\n *  @param {?Array<string>} ids The module ids in dependency order.\n * @private\n */\ngoog.module.ModuleLoader.prototype.loadWithNonAsyncScriptTag_ = function(\n    loadStatus, ids) {\n  'use strict';\n  goog.log.info(this.logger, `Loading initiated for: ${ids}`);\n  if (loadStatus.trustedRequestUris.length == 0) {\n    if (loadStatus.successFn) {\n      loadStatus.successFn();\n      return;\n    }\n  }\n\n  // We'll execute the success callback when the last script enqueed reaches\n  // onLoad.\n  let lastScript = null;\n  const insertPos = document.head || document.documentElement;\n\n  for (var i = 0; i < loadStatus.trustedRequestUris.length; i++) {\n    const url = loadStatus.trustedRequestUris[i];\n    const urlLength = loadStatus.requestUris[i].length;\n    goog.asserts.assert(\n        urlLength <= goog.module.ModuleLoader.URL_MAX_LENGTH_,\n        `Module url length is ${urlLength}, which is greater than limit of ` +\n            `${goog.module.ModuleLoader.URL_MAX_LENGTH_}. This should never ` +\n            `happen.`);\n\n    const scriptElement = goog.module.ModuleLoader.createScriptElement_(url);\n\n    scriptElement.onload = () => {\n      scriptElement.onload = null;\n      scriptElement.onerror = null;\n      goog.dom.removeNode(scriptElement);\n      if (scriptElement == lastScript) {\n        goog.log.info(this.logger, `Loading complete for: ${ids}`);\n        lastScript = null;\n        if (loadStatus.successFn) {\n          loadStatus.successFn();\n        }\n      }\n    };\n\n    scriptElement.onerror = () => {\n      goog.log.error(\n          this.logger, `Network error when loading module(s): ${ids}`);\n      scriptElement.onload = null;\n      scriptElement.onerror = null;\n      goog.dom.removeNode(scriptElement);\n      this.handleErrorHelper_(\n          ids, loadStatus.errorFn,\n          goog.module.ModuleLoader.SYNTAX_OR_NETWORK_ERROR_CODE_);\n      if (lastScript == scriptElement) {\n        lastScript = null;\n      } else {\n        goog.log.error(\n            this.logger,\n            `Dependent requests were made in parallel with failed request ` +\n                `for module(s) \"${ids}\". Non-recoverable out-of-order ` +\n                `execution may occur.`);\n      }\n    };\n    lastScript = scriptElement;\n    insertPos.insertBefore(scriptElement, insertPos.firstChild);\n  }\n};\n\n\n/**\n * Handles an error during a request for one or more modules.\n * @param {goog.net.BulkLoader} bulkLoader The bulk loader.\n * @param {Array<string>} moduleIds The ids of the modules requested.\n * @param {!goog.net.BulkLoader.LoadErrorEvent} event The load error event.\n * @private\n */\ngoog.module.ModuleLoader.prototype.handleError_ = function(\n    bulkLoader, moduleIds, event) {\n  'use strict';\n  var loadStatus = this.loadingModulesStatus_[moduleIds];\n  // The bulk loader doesn't cancel other requests when a request fails. We will\n  // delete the loadStatus in the first failure, so it will be undefined in\n  // subsequent errors.\n  if (loadStatus) {\n    delete this.loadingModulesStatus_[moduleIds];\n    this.handleErrorHelper_(moduleIds, loadStatus.errorFn, event.status);\n  }\n\n  // NOTE: A bulk loader instance is used for loading a set of module ids. Once\n  // these modules have been loaded successfully or in error the bulk loader\n  // should be disposed as it is not needed anymore. A new bulk loader is\n  // instantiated for any new modules to be loaded. The dispose is called\n  // on another thread so that the bulkloader has a chance to release its\n  // objects.\n  goog.Timer.callOnce(bulkLoader.dispose, 5, bulkLoader);\n};\n\n\n/**\n * Handles an error during a request for one or more modules.\n * @param {Array<string>} moduleIds The ids of the modules requested.\n * @param {?function(?number)} errorFn The function to call on failure.\n * @param {?number} status The response status.\n * @param {!Error=} opt_error The error encountered, if available.\n * @private\n */\ngoog.module.ModuleLoader.prototype.handleErrorHelper_ = function(\n    moduleIds, errorFn, status, opt_error) {\n  'use strict';\n  this.dispatchEvent(new goog.module.ModuleLoader.RequestErrorEvent(\n      moduleIds, status, opt_error));\n\n  goog.log.warning(this.logger, 'Request failed for module(s): ' + moduleIds);\n\n  if (errorFn) {\n    errorFn(status);\n  }\n};\n\n\n/**\n * Events dispatched by the ModuleLoader.\n * @const\n */\ngoog.module.ModuleLoader.EventType = {\n  /**\n   * @const {!goog.events.EventId<\n   *     !goog.module.ModuleLoader.EvaluateCodeEvent>} Called after the code for\n   *     a module is evaluated.\n   */\n  EVALUATE_CODE:\n      new goog.events.EventId(goog.events.getUniqueId('evaluateCode')),\n\n  /**\n   * @const {!goog.events.EventId<\n   *     !goog.module.ModuleLoader.RequestSuccessEvent>} Called when the\n   *     BulkLoader finishes successfully.\n   */\n  REQUEST_SUCCESS:\n      new goog.events.EventId(goog.events.getUniqueId('requestSuccess')),\n\n  /**\n   * @const {!goog.events.EventId<\n   *     !goog.module.ModuleLoader.RequestErrorEvent>} Called when the\n   *     BulkLoader fails, or code loading fails.\n   */\n  REQUEST_ERROR:\n      new goog.events.EventId(goog.events.getUniqueId('requestError'))\n};\n\n\n\n/**\n * @param {Array<string>} moduleIds The ids of the modules being evaluated.\n * @constructor\n * @extends {goog.events.Event}\n * @final\n * @protected\n */\ngoog.module.ModuleLoader.EvaluateCodeEvent = function(moduleIds) {\n  'use strict';\n  goog.module.ModuleLoader.EvaluateCodeEvent.base(\n      this, 'constructor', goog.module.ModuleLoader.EventType.EVALUATE_CODE);\n\n  /**\n   * @type {Array<string>}\n   */\n  this.moduleIds = moduleIds;\n};\ngoog.inherits(goog.module.ModuleLoader.EvaluateCodeEvent, goog.events.Event);\n\n\n\n/**\n * @param {Array<string>} moduleIds The ids of the modules being evaluated.\n * @constructor\n * @extends {goog.events.Event}\n * @final\n * @protected\n */\ngoog.module.ModuleLoader.RequestSuccessEvent = function(moduleIds) {\n  'use strict';\n  goog.module.ModuleLoader.RequestSuccessEvent.base(\n      this, 'constructor', goog.module.ModuleLoader.EventType.REQUEST_SUCCESS);\n\n  /**\n   * @type {Array<string>}\n   */\n  this.moduleIds = moduleIds;\n};\ngoog.inherits(goog.module.ModuleLoader.RequestSuccessEvent, goog.events.Event);\n\n\n\n/**\n * @param {?Array<string>} moduleIds The ids of the modules being evaluated.\n * @param {?number} status The response status.\n * @param {!Error=} opt_error The error encountered, if available.\n * @constructor\n * @extends {goog.events.Event}\n * @final\n * @protected\n */\ngoog.module.ModuleLoader.RequestErrorEvent = function(\n    moduleIds, status, opt_error) {\n  'use strict';\n  goog.module.ModuleLoader.RequestErrorEvent.base(\n      this, 'constructor', goog.module.ModuleLoader.EventType.REQUEST_ERROR);\n\n  /**\n   * @type {?Array<string>}\n   */\n  this.moduleIds = moduleIds;\n\n  /** @type {?number} */\n  this.status = status;\n\n  /** @type {?Error} */\n  this.error = opt_error || null;\n};\ngoog.inherits(goog.module.ModuleLoader.RequestErrorEvent, goog.events.Event);\n\n\n\n/**\n * A class that keeps the state of the module during the loading process. It is\n * used to save loading information between modules download and evaluation.\n *  @param {!Array<!goog.html.TrustedResourceUrl>} trustedRequestUris the uris\n containing the modules implementing ids.\n\n * @constructor\n * @final\n */\ngoog.module.ModuleLoader.LoadStatus = function(trustedRequestUris) {\n  'use strict';\n  /**\n   * The request uris.\n   * @final {!Array<string>}\n   */\n  this.requestUris =\n      goog.array.map(trustedRequestUris, goog.html.TrustedResourceUrl.unwrap);\n\n  /**\n   * A TrustedResourceUrl version of `this.requestUris`\n   * @final {!Array<!goog.html.TrustedResourceUrl>}\n   */\n  this.trustedRequestUris = trustedRequestUris;\n\n  /**\n   * The response texts.\n   * @type {?Array<string>}\n   */\n  this.responseTexts = null;\n\n  /**\n   * Whether loadModules was called for the set of modules referred by this\n   * status.\n   * @type {boolean}\n   */\n  this.loadRequested = false;\n\n  /**\n   * Success callback.\n   * @type {?function()}\n   */\n  this.successFn = null;\n\n  /**\n   * Error callback.\n   * @type {?function(?number)}\n   */\n  this.errorFn = null;\n};\n\n\n/**\n * Creates a `LoadStatus` object for tracking state during the loading of the\n * modules indexed in `ids`.\n *\n * @param {?Array<string>} ids the ids for this module load in dependency\n *   order.\n * @param {!Object<string, !goog.module.ModuleInfo>} moduleInfoMap A mapping\n *     from module id to ModuleInfo object.\n * @return {!goog.module.ModuleLoader.LoadStatus}\n * @private\n */\ngoog.module.ModuleLoader.LoadStatus.createForIds_ = function(\n    ids, moduleInfoMap) {\n  'use strict';\n  if (!ids) {\n    return new goog.module.ModuleLoader.LoadStatus([]);\n  }\n  const trustedRequestUris = [];\n  for (var i = 0; i < ids.length; i++) {\n    goog.array.extend(trustedRequestUris, moduleInfoMap[ids[i]].getUris());\n  }\n  return new goog.module.ModuleLoader.LoadStatus(trustedRequestUris);\n};\n"],
"names":["goog","provide","require","requireType","module","ModuleLoader","goog.module.ModuleLoader","base","eventHandler_","events","EventHandler","registerDisposable","loadingModulesStatus_","inherits","EventTarget","prototype","logger","log","getLogger","debugMode_","sourceUrlInjection_","useScriptTags_","supportsSourceUrlStackTraces","goog.module.ModuleLoader.supportsSourceUrlStackTraces","userAgent","product","CHROME","labs","browser","isFirefox","isVersionOrHigher","supportsSourceUrlDebugger","goog.module.ModuleLoader.supportsSourceUrlDebugger","GECKO","URL_MAX_LENGTH_","SYNTAX_OR_NETWORK_ERROR_CODE_","createScriptElement_","goog.module.ModuleLoader.createScriptElement_","url","script","dom","createElement","TagName","SCRIPT","safe","setScriptSrc","async","createPreloadScriptElement_","goog.module.ModuleLoader.createPreloadScriptElement_","link","LINK","setLinkHrefAndRel","as","nonce","getScriptNonce","setAttribute","getDebugMode","goog.module.ModuleLoader.prototype.getDebugMode","setUseScriptTags","goog.module.ModuleLoader.prototype.setUseScriptTags","useScriptTags","getUseScriptTags","goog.module.ModuleLoader.prototype.getUseScriptTags","setDebugMode","goog.module.ModuleLoader.prototype.setDebugMode","debugMode","setSourceUrlInjection","goog.module.ModuleLoader.prototype.setSourceUrlInjection","enabled","usingSourceUrlInjection_","goog.module.ModuleLoader.prototype.usingSourceUrlInjection_","loadModules","goog.module.ModuleLoader.prototype.loadModules","ids","moduleInfoMap","forceReload","onError","onSuccess","onTimeout","loadStatus","LoadStatus","createForIds_","loadRequested","successFn","functions","sequence","errorFn","downloadModules_","responseTexts","evaluateCode_","goog.module.ModuleLoader.prototype.evaluateCode_","moduleIds","dispatchEvent","RequestSuccessEvent","info","uris","requestUris","texts","error","i","length","uri","globalEval","join","e","warning","EvaluateCodeEvent","handleErrorHelper_","handleSuccess_","goog.module.ModuleLoader.prototype.handleSuccess_","bulkLoader","getResponseTexts","Timer","callOnce","dispose","prefetchModule","goog.module.ModuleLoader.prototype.prefetchModule","id","moduleInfo","links","insertPos","document","head","documentElement","trustedRequestUris","push","insertBefore","firstChild","loadStatus.successFn","removeNode","goog.module.ModuleLoader.prototype.downloadModules_","sourceUrlInjection","effectiveFlag","asserts","assert","loadWithNonAsyncScriptTag_","net","jsloader","safeLoadMany","BulkLoader","eventHandler","listen","EventType","SUCCESS","bind","ERROR","handleError_","load","goog.module.ModuleLoader.prototype.loadWithNonAsyncScriptTag_","lastScript","urlLength","scriptElement","onload","scriptElement.onload","onerror","scriptElement.onerror","goog.module.ModuleLoader.prototype.handleError_","event","status","goog.module.ModuleLoader.prototype.handleErrorHelper_","opt_error","RequestErrorEvent","EVALUATE_CODE","EventId","getUniqueId","REQUEST_SUCCESS","REQUEST_ERROR","goog.module.ModuleLoader.EvaluateCodeEvent","Event","goog.module.ModuleLoader.RequestSuccessEvent","goog.module.ModuleLoader.RequestErrorEvent","goog.module.ModuleLoader.LoadStatus","array","map","html","TrustedResourceUrl","unwrap","goog.module.ModuleLoader.LoadStatus.createForIds_","extend","getUris"]
}
