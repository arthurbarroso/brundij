{
"version":3,
"file":"goog.module.moduleinfo.js",
"lineCount":104,
"mappings":"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",
"sources":["goog/module/moduleinfo.js"],
"sourcesContent":["/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Defines the goog.module.ModuleInfo class.\n */\n\ngoog.provide('goog.module.ModuleInfo');\n\ngoog.require('goog.Disposable');\ngoog.require('goog.async.throwException');\ngoog.require('goog.dispose');\ngoog.require('goog.functions');\ngoog.require('goog.html.TrustedResourceUrl');\n/** @suppress {extraRequire} */\ngoog.require('goog.module');\ngoog.require('goog.module.BaseModule');\ngoog.require('goog.module.ModuleLoadCallback');\ngoog.require('goog.module.ModuleLoadFailureType');\n\n\n\n/**\n * A ModuleInfo object is used by the ModuleManager to hold information about a\n * module of js code that may or may not yet be loaded into the environment.\n *\n * @param {Array<string>} deps Ids of the modules that must be loaded before\n *     this one. The ids must be in dependency order (i.e. if the ith module\n *     depends on the jth module, then i > j).\n * @param {string} id The module's ID.\n * @constructor\n * @extends {goog.Disposable}\n * @final\n */\ngoog.module.ModuleInfo = function(deps, id) {\n  'use strict';\n  goog.Disposable.call(this);\n\n  /**\n   * A list of the ids of the modules that must be loaded before this module.\n   * @type {Array<string>}\n   * @private\n   */\n  this.deps_ = deps;\n\n  /**\n   * The module's ID.\n   * @type {string}\n   * @private\n   */\n  this.id_ = id;\n\n  /**\n   * Callbacks to execute once this module is loaded.\n   * @type {Array<goog.module.ModuleLoadCallback>}\n   * @private\n   */\n  this.onloadCallbacks_ = [];\n\n  /**\n   * Callbacks to execute if the module load errors.\n   * @type {Array<goog.module.ModuleLoadCallback>}\n   * @private\n   */\n  this.onErrorCallbacks_ = [];\n\n  /**\n   * Early callbacks to execute once this module is loaded. Called after\n   * module initialization but before regular onload callbacks.\n   * @type {Array<goog.module.ModuleLoadCallback>}\n   * @private\n   */\n  this.earlyOnloadCallbacks_ = [];\n};\ngoog.inherits(goog.module.ModuleInfo, goog.Disposable);\n\n\n/**\n * The uris that can be used to retrieve this module's code.\n * @type {?Array<!goog.html.TrustedResourceUrl>}\n * @private\n */\ngoog.module.ModuleInfo.prototype.uris_ = null;\n\n\n/**\n * The constructor to use to instantiate the module object after the module\n * code is loaded. This must be either goog.module.BaseModule or a subclass of\n * it.\n * @type {Function}\n * @private\n */\ngoog.module.ModuleInfo.prototype.moduleConstructor_ = goog.module.BaseModule;\n\n\n/**\n * The module object. This will be null until the module is loaded.\n * @type {goog.module.BaseModule?}\n * @private\n */\ngoog.module.ModuleInfo.prototype.module_ = null;\n\n\n/**\n * Gets the dependencies of this module.\n * @return {Array<string>} The ids of the modules that this module depends on.\n */\ngoog.module.ModuleInfo.prototype.getDependencies = function() {\n  'use strict';\n  return this.deps_;\n};\n\n\n/**\n * Gets the ID of this module.\n * @return {string} The ID.\n */\ngoog.module.ModuleInfo.prototype.getId = function() {\n  'use strict';\n  return this.id_;\n};\n\n\n/**\n * Sets the uris of this module.\n * @param {!Array<!goog.html.TrustedResourceUrl>} uris Uris for this module's\n *     code.\n */\ngoog.module.ModuleInfo.prototype.setTrustedUris = function(uris) {\n  'use strict';\n  this.uris_ = uris;\n};\n\n\n/**\n * Gets the uris of this module.\n * @return {!Array<!goog.html.TrustedResourceUrl>} Uris for this module's code.\n */\ngoog.module.ModuleInfo.prototype.getUris = function() {\n  'use strict';\n  if (!this.uris_) {\n    this.uris_ = [];\n  }\n  return this.uris_;\n};\n\n\n/**\n * Sets the constructor to use to instantiate the module object after the\n * module code is loaded.\n * @param {Function} constructor The constructor of a goog.module.BaseModule\n *     subclass.\n */\ngoog.module.ModuleInfo.prototype.setModuleConstructor = function(constructor) {\n  'use strict';\n  if (this.moduleConstructor_ === goog.module.BaseModule) {\n    this.moduleConstructor_ = constructor;\n  } else {\n    throw new Error('Cannot set module constructor more than once.');\n  }\n};\n\n\n/**\n * Registers a function that should be called after the module is loaded. These\n * early callbacks are called after {@link Module#initialize} is called but\n * before the other callbacks are called.\n * @param {Function} fn A callback function that takes a single argument which\n *    is the module context.\n * @param {Object=} opt_handler Optional handler under whose scope to execute\n *     the callback.\n * @return {!goog.module.ModuleLoadCallback} Reference to the callback\n *     object.\n */\ngoog.module.ModuleInfo.prototype.registerEarlyCallback = function(\n    fn, opt_handler) {\n  'use strict';\n  return this.registerCallback_(this.earlyOnloadCallbacks_, fn, opt_handler);\n};\n\n\n/**\n * Registers a function that should be called after the module is loaded.\n * @param {Function} fn A callback function that takes a single argument which\n *    is the module context.\n * @param {Object=} opt_handler Optional handler under whose scope to execute\n *     the callback.\n * @return {!goog.module.ModuleLoadCallback} Reference to the callback\n *     object.\n */\ngoog.module.ModuleInfo.prototype.registerCallback = function(fn, opt_handler) {\n  'use strict';\n  return this.registerCallback_(this.onloadCallbacks_, fn, opt_handler);\n};\n\n\n/**\n * Registers a function that should be called if the module load fails.\n * @param {Function} fn A callback function that takes a single argument which\n *    is the failure type.\n * @param {Object=} opt_handler Optional handler under whose scope to execute\n *     the callback.\n * @return {!goog.module.ModuleLoadCallback} Reference to the callback\n *     object.\n */\ngoog.module.ModuleInfo.prototype.registerErrback = function(fn, opt_handler) {\n  'use strict';\n  return this.registerCallback_(this.onErrorCallbacks_, fn, opt_handler);\n};\n\n\n/**\n * Registers a function that should be called after the module is loaded.\n * @param {Array<goog.module.ModuleLoadCallback>} callbacks The array to\n *     add the callback to.\n * @param {Function} fn A callback function that takes a single argument which\n *     is the module context.\n * @param {Object=} opt_handler Optional handler under whose scope to execute\n *     the callback.\n * @return {!goog.module.ModuleLoadCallback} Reference to the callback\n *     object.\n * @private\n */\ngoog.module.ModuleInfo.prototype.registerCallback_ = function(\n    callbacks, fn, opt_handler) {\n  'use strict';\n  var callback = new goog.module.ModuleLoadCallback(fn, opt_handler);\n  callbacks.push(callback);\n  return callback;\n};\n\n\n/**\n * Determines whether the module has been loaded.\n * @return {boolean} Whether the module has been loaded.\n */\ngoog.module.ModuleInfo.prototype.isLoaded = function() {\n  'use strict';\n  return !!this.module_;\n};\n\n\n/**\n * Marks the current module as loaded. This is useful for subtractive module\n * loading, where occasionally we need to fallback to normal module loading,\n * and re-fetch the module graph. In this case, we need a way to tell the module\n * manager to mark all modules that are already loaded.\n */\ngoog.module.ModuleInfo.prototype.setLoaded = function() {\n  'use strict';\n  this.module_ = new goog.module.BaseModule();\n};\n\n\n/**\n * Gets the module.\n * @return {goog.module.BaseModule?} The module if it has been loaded.\n *     Otherwise, null.\n */\ngoog.module.ModuleInfo.prototype.getModule = function() {\n  'use strict';\n  return this.module_;\n};\n\n\n/**\n * Sets this module as loaded.\n * @param {function() : Object} contextProvider A function that provides the\n *     module context.\n * @return {boolean} Whether any errors occurred while executing the onload\n *     callbacks.\n */\ngoog.module.ModuleInfo.prototype.onLoad = function(contextProvider) {\n  'use strict';\n  // Instantiate and initialize the module object.\n  var module = new this.moduleConstructor_;\n  module.initialize(contextProvider());\n\n  // Keep an internal reference to the module.\n  this.module_ = module;\n\n  // Fire any early callbacks that were waiting for the module to be loaded.\n  var errors =\n      !!this.callCallbacks_(this.earlyOnloadCallbacks_, contextProvider());\n\n  // Fire any callbacks that were waiting for the module to be loaded.\n  errors =\n      errors || !!this.callCallbacks_(this.onloadCallbacks_, contextProvider());\n\n  if (!errors) {\n    // Clear the errbacks.\n    this.onErrorCallbacks_.length = 0;\n  }\n\n  return errors;\n};\n\n\n/**\n * Calls the error callbacks for the module.\n * @param {goog.module.ModuleLoadFailureType} cause What caused the\n *     error.\n */\ngoog.module.ModuleInfo.prototype.onError = function(cause) {\n  'use strict';\n  var result = this.callCallbacks_(this.onErrorCallbacks_, cause);\n  if (result) {\n    // Throw an exception asynchronously. Do not let the exception leak\n    // up to the caller, or it will blow up the module loading framework.\n    window.setTimeout(\n        goog.functions.error('Module errback failures: ' + result), 0);\n  }\n  this.earlyOnloadCallbacks_.length = 0;\n  this.onloadCallbacks_.length = 0;\n};\n\n\n/**\n * Helper to call the callbacks after module load.\n * @param {Array<goog.module.ModuleLoadCallback>} callbacks The callbacks\n *     to call and then clear.\n * @param {*} context The module context.\n * @return {Array<*>} Any errors encountered while calling the callbacks,\n *     or null if there were no errors.\n * @private\n */\ngoog.module.ModuleInfo.prototype.callCallbacks_ = function(callbacks, context) {\n  'use strict';\n  // NOTE(nicksantos):\n  // In practice, there are two error-handling scenarios:\n  // 1) The callback does some mandatory initialization of the module.\n  // 2) The callback is for completion of some optional UI event.\n  // There's no good way to handle both scenarios.\n  //\n  // Our strategy here is to protect module manager from exceptions, so that\n  // the failure of one module doesn't affect the loading of other modules.\n  // Errors are thrown outside of the current stack frame, so they still\n  // get reported but don't interrupt execution.\n\n  // Call each callback in the order they were registered\n  var errors = [];\n  for (var i = 0; i < callbacks.length; i++) {\n    try {\n      callbacks[i].execute(context);\n    } catch (e) {\n      goog.async.throwException(e);\n      errors.push(e);\n    }\n  }\n\n  // Clear the list of callbacks.\n  callbacks.length = 0;\n  return errors.length ? errors : null;\n};\n\n\n/** @override */\ngoog.module.ModuleInfo.prototype.disposeInternal = function() {\n  'use strict';\n  goog.module.ModuleInfo.superClass_.disposeInternal.call(this);\n  goog.dispose(this.module_);\n};\n"],
"names":["goog","provide","require","module","ModuleInfo","goog.module.ModuleInfo","deps","id","Disposable","call","deps_","id_","onloadCallbacks_","onErrorCallbacks_","earlyOnloadCallbacks_","inherits","prototype","uris_","moduleConstructor_","BaseModule","module_","getDependencies","goog.module.ModuleInfo.prototype.getDependencies","getId","goog.module.ModuleInfo.prototype.getId","setTrustedUris","goog.module.ModuleInfo.prototype.setTrustedUris","uris","getUris","goog.module.ModuleInfo.prototype.getUris","setModuleConstructor","goog.module.ModuleInfo.prototype.setModuleConstructor","constructor","Error","registerEarlyCallback","goog.module.ModuleInfo.prototype.registerEarlyCallback","fn","opt_handler","registerCallback_","registerCallback","goog.module.ModuleInfo.prototype.registerCallback","registerErrback","goog.module.ModuleInfo.prototype.registerErrback","goog.module.ModuleInfo.prototype.registerCallback_","callbacks","callback","ModuleLoadCallback","push","isLoaded","goog.module.ModuleInfo.prototype.isLoaded","setLoaded","goog.module.ModuleInfo.prototype.setLoaded","getModule","goog.module.ModuleInfo.prototype.getModule","onLoad","goog.module.ModuleInfo.prototype.onLoad","contextProvider","initialize","errors","callCallbacks_","length","onError","goog.module.ModuleInfo.prototype.onError","cause","result","window","setTimeout","functions","error","goog.module.ModuleInfo.prototype.callCallbacks_","context","i","execute","e","async","throwException","disposeInternal","goog.module.ModuleInfo.prototype.disposeInternal","superClass_","dispose"]
}
